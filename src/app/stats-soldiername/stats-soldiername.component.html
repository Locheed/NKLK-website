<h3>{{pageTitle}}</h3>


<div class="searchbar">
    <input type="text" name="name" placeholder="Soldiername" (keyup.enter)="getByName(userName)" [(ngModel)]="userName">
    <button type="submit" (click)="getByName(userName)">Search</button>

</div>
<div class="statsContainer">
  <table class="stats-table">
    <thead>
      <th>Name</th>
      <th>Total Score</th>
      <th>Rush Score</th>
      <th>Combat Score</th>
      <th>Kills</th>
      <th>Deaths</th>
      <th>K/D</th>
      <th>Kpm</th>
      <th>Headshots</th>
      <th>Revives</th>
      <th>Heals</th>
      <th>Repairs</th>
      <th>Resupplies</th>
      <th>Vehicles Destroyed</th>
      <th>Playtime</th>
    </thead>
    <tbody>
      <tr *ngFor='let stat of stats'>
        <td class="notfound" *ngIf="stat === null">No such soldier name.</td>
        <ng-container *ngIf="stat != null">
          <td>{{ stat.soldierName }}</td>
          <td>{{ stat.totalScore }}</td>
          <td>{{ stat.rush }}</td>
          <td>{{ stat.combatScore }}</td>
          <td>{{ stat.kills }}</td>
          <td>{{ stat.deaths }}</td>
          <td [ngClass] = "{'alertColor' : (stat.kills / stat.deaths > 10), 'warningColor' : (stat.kills / stat.deaths < 10) && (stat.kills / stat.deaths > 5)  }" >{{ stat.kills / stat.deaths | number: '1.2-2'}}</td>
          <td [ngClass] = "{'alertColor' : stat.killsPerMinute > 2.8, 'warningColor' : stat.killsPerMinute < 2.8 && stat.killsPerMinute > 2 }">{{ stat.killsPerMinute }}</td>
          <td>{{ stat.headshots }}</td>
          <td>{{ stat.revives }}</td>
          <td>{{ stat.heals }}</td>
          <td>{{ stat.repairs }}</td>
          <td>{{ stat.resupplies }}</td>
          <td>{{ stat.vehiclesDestroyed }}</td>
          <td>{{ (stat.timePlayed / 60) / 60 | number: '1.0-0'}}h</td>
        </ng-container>
      </tr>

    </tbody>
  </table>
</div>
